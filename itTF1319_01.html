<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>IT_TF1319_1</title>
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
    <script>$(function (){
    sagecell.makeSagecell({inputLocation:'div.compute',evalButtonText:'Run'});
    });</script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
  </head>
  <style>
  @import url('https://fonts.googleapis.com/css?family=Orbitron');
  h1, h2 {color:#3636ff; font-family:'Orbitron'; text-shadow:5px 5px 5px #aaa;}
  p, a {color:darkblue; font-size:120%; text-shadow:5px 5px 5px #aaa;}
  .sagecell .CodeMirror-scroll {min-height:3em; max-height:38em;}
  </style>  
  <body>
  <h1>&#x1F4D1; &nbsp;IT. TF1319. Standard Calculation 1</h1>
  <h2>Task 1</h2>
      Create functions for computations
  <p>1. $\frac{e^{-\sqrt{x}} \left(\sqrt[5]{x}+\sin \left(\frac{\pi 
   x}{2}\right)\right)}{\sqrt{\left| \cos (\pi  x)+1\right| }}$</p>
  <p>2. $\ln\left(n x - 1\right) {\sum_{k=1}^{n} \frac{\sqrt{e^{-k x} + x^{k-1}}}
        {\cos \ k x + \sin \ k x}}$</p>
<a href="https://en.wikibooks.org/wiki/LaTeX/Mathematics">&#x1F300; &nbsp; LaTeX for Mathematics &nbsp;</a>
<div class="compute"><script>
# sage 
f(x)=(sin(x*pi/2)+x^(1/5))/(sqrt(abs(cos(pi*x)+1))*exp(1)^sqrt(x))
a,b=2,3; t=[[N(x),N(f(x))] for x in srange(a,b,(b-a)/12)]
line(t).show(gridlines=True); table([['x','f(x)']]+t)
</script></div><br/>
<div class="compute"><script>
# sage
var('k'); f(x,n)=ln(n*x-1)*sum(sqrt(exp(1)^(-k*x)+x^(k-1))/(cos(k*x)+sin(k*x)),k,1,n)
l=[[[x,N(f(x,n))] for x in srange(1.1,5,.01)] for n in [2..7]]
sum([line(l[i-2],color=hue(i/7),legend_label=i) for i in [2..7]])\
.show(ymin=-300,ymax=300,figsize=10)
table([['x','n','f(x,n)','f(x,n)'],[2,2,f(2,2),f(2,2).n()],[2,3,f(2,3),f(2,3).n()],
      [2,4,f(2,4),f(2,4).n()],[2,5,f(2,5),f(2,5).n()],[2,6,f(2,6),f(2,6).n()]])
</script></div><br/>
<div class="compute"><script>
# python / sympy
import sympy; from sympy import *
sympy.init_printing(use_unicode=True)
x=Symbol('x')
y=(sin(x*pi/2.)+x^(1/5.))/(sqrt(abs(cos(pi*x)+1.))*exp(1.)^sqrt(x));
a,b=2.,3.; print('x   ->   f(x)'); print(30*'-')
for t in srange(a,b,(b-a)/10.):
    display([t,y.evalf(subs={x:t})]); print(30*'-')
plot(y,(x,2.05,2.95))
</script></div><br/>
<div class="compute"><script>
# python / sympy
import sympy; from sympy import *
sympy.init_printing(use_unicode=True)
k,n=symbols('n k',integer=True); x,a,b=symbols('x a b')
f=lambda x,n: ln(n*x-1)*Sum(sqrt(exp(1)^(-k*x)+x^(k-1))/(cos(k*x)+sin(k*x)),(k,1,n))
for i in range(2,5): 
    display([2,i,f(2,i).doit(),f(2,i).doit().evalf()])
p2=plot(f(x,2).doit(),(x,1,5),line_color='#3636ff',ylim=(-200,200),show=False)
p3=plot(f(x,3).doit(),(x,1,5),line_color='#ff3636',show=False)
p4=plot(f(x,4).doit(),(x,1,5),line_color='#36ff36',show=False)
p2.extend(p3); p2.extend(p4); p2.show()
</script></div><br/>
<div class="compute"><script>
%%javascript
var xy=Array(10).fill(20).map((r,x) => [(0.1*(x+r)),
((Math.sin(0.05*(x+r)*Math.PI)+Math.pow(0.1*(x+r),1/5))/
 (Math.sqrt(Math.abs(Math.cos(Math.PI*0.1*(x+r))+1))*Math.pow(Math.E,Math.sqrt(0.1*(x+r)))))]);
Highcharts.chart('container1', {
    chart:{type:'line'},xAxis:{title:{text:'x'}},yAxis:{title:{text:'y'}},
    title:{text:'Line Plot'},credits:{enabled:false},
    series: [{name:'f(x)',color:'#3636ff',data:xy}]
});
</script></div><br/>
<div id="container1" style="height:600px; width:600px; margin:0 auto">javascript cell 1 is launching here...</div><br/>
<div class="compute"><script>
%%html
<style>@import url('https://fonts.googleapis.com/css?family=Roboto|Miss Fajardose');</style>
<p style="background-color:white; color:#3636ff; font-family:Miss Fajardose; font-size:300%;">
The code cell calls a function which performs calculations and returns the result:</p>
<button id="calculation" width=600 
style="background-color:silver; text-align:left; color:#3636ff; font-family:Roboto; font-size:200%;"></button>
<script>
function myfunction(n,x) {
  var i; var sum=0;
  for (i=1; i<n+1; i++) {sum+=Math.sqrt(Math.pow(Math.E,-i*x)+Math.pow(x,i-1))/(Math.cos(i*x)+Math.sin(i*x));};
  return sum*Math.log(n*x-1);
}
var xy=[["n","x","f(n,x)"]];
for (i=2; i<7; i++) {xy.push(["<br/>"+i,2,myfunction(i,2)]);
document.getElementById("calculation").innerHTML=xy;};
</script></div><br/>
<div class="compute"><script>
%%javascript
function myfunction(n,x) {
  var i; var sum=0;
  for (i=1; i<n+1; i++) {sum+=Math.sqrt(Math.pow(Math.E,-i*x)+Math.pow(x,i-1))/(Math.cos(i*x)+Math.sin(i*x));};
  return sum*Math.log(n*x-1);
}
var xy2 = Array(30).fill(10).map((r,x) => [0.1*(x+r),myfunction(2,0.1*(x+r))]);
var xy3 = Array(30).fill(10).map((r,x) => [0.1*(x+r),myfunction(3,0.1*(x+r))]);
var xy4 = Array(30).fill(10).map((r,x) => [0.1*(x+r),myfunction(4,0.1*(x+r))]);
Highcharts.chart('container2', {
    chart:{type:'line'},xAxis:{title:{text:'x'}},yAxis:{title:{text:'y'}},
    title:{text:'Line Plot'},credits:{enabled:false},
    series: [{name:'n=2',color:'#ff3636',data:xy2},{name:'n=3',color:'#3636ff',data:xy3},
             {name:'n=4',color:'#36ff36',data:xy4}]
});
</script></div><br/>
<div id="container2" style="height:600px; width:600px; margin:0 auto">javascript cell 2 is launching here...</div><br/>
<div class="compute"><script>
%%r
svg(filename="Rplots.svg",width=7,height=7,pointsize=12,onefile=T,family="sans",
    bg="slategray",antialias=c("default","none","gray","subpixel"))
x<-seq(2.,3.,len=50); y<-(sin(x*pi/2.)+x^(1/5.))/(sqrt(abs(cos(pi*x)+1.))*exp(1.)^sqrt(x))  
plot(x,y,type='o',cex=0.7,col='#3636ff',xlab='x',ylab='y',xlim=c(2,3),ylim=c(0.05,0.25),
     fg='white',col.axis='white',col.lab='white')
cat("x "); cat(round(x[2:10],6)); cat("\n"); cat("y "); cat(round(y[2:10],6)); cat("\n")
grid(col='white'); dev.off()
</script></div><br/>
<div class="compute"><script>
%%r

</script></div><br/>
  </body>
</html>
