<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>IT_TF1319_2</title>
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
    <script>$(function (){sagecell.makeSagecell({inputLocation:'div.compute',evalButtonText:'Run'});});</script>
  </head>
  <style>
  @import url('https://fonts.googleapis.com/css?family=Orbitron');
  h1, h2 {color:#3636ff; font-family:'Orbitron'; text-shadow:5px 5px 5px #aaa;}
  p, a {color:darkblue; font-size:120%; text-shadow:5px 5px 5px #aaa;}
  .sagecell .CodeMirror-scroll {min-height:3em; max-height:38em;}
  </style>  
  <body>
  <h1>&#x1F4D1; &nbsp;IT. TF1319. Standard Calculation 2</h1>
  <h2>Create code for the next tasks</h2>
  <p>1. Form an array T from a one-dimensional array X of n elements according to the rule:</p>
  <p>$T_1=X_1, T_2=X_1+X_2, ..., T_n=X_1+X_2+...X_n$</p>
  <p>2. Find the total gravity of the N-layer spherical shell with the inner diameter D, </p>
  <p>if the outer diameters of the layers are equal: D + 1, D + 2, ..., D + N, </p>
  <p>and the specific gravity of the material of the layers is respectively: G, G / 2, ..., G / N. </p>
  <p>The layers fit tightly together.</p>
<div class="compute"><script>
# sage / task 1
X1=["♔","♕","♖","♗","♘","♙"]; X2=[randint(1,99) for i in [0..10]]
def sum_arr(X):
    T=[X[0]]
    for i in [1..len(X)-1]: T.append(T[i-1]+X[i])
    return T
pretty_print('string summation'); pretty_print(X1,'->',sum_arr(X1))
pretty_print('number summation'); pretty_print(X2,'->',sum_arr(X2))
</script></div><br/>
<div class="compute"><script>
# sage / task 2
var('D,G,i,N'); Vi(D,i)=4/3*pi*((D+i)/2)^3-4/3*pi*((D+i-1)/2)^3
v(D,i)=Vi(D,i).expand().simplify().factor()
pretty_print('volume of the i-th layer:'); pretty_print(v(D,i))
P(D,G,N)=sum(v(D,i)*G/i,i,1,N)
pretty_print('total gravity of N layers:'); pretty_print(P(D,G,N).factor())
from sage.plot.plot3d.shapes import Sphere
def display_shell(D,G,N):
    g=Graphics(); s=Sphere(D,color='gray',frame=false)
    layers=sum([Sphere(D+i,opacity=G/i) for i in [1..N]])
    pretty_print('D=%d, G=%.2f, N=%d -> P=%f'%(D,G,N,P(D,G,N))) 
    (g+s+layers).show()
display_shell(7,.75,10)
</script></div><br/>
<div class="compute"><script>
# python / task 1
import random,sympy
X1=["♔","♕","♖","♗","♘","♙"]; X2=[random.randint(1,99) for i in range(10)]
def sum_arr(X):
    T=[X[0]]
    for i in range(1,len(X)): T.append(T[i-1]+X[i])
    return T
sympy.pprint('string summation'); sympy.pprint(X1); sympy.pprint(sum_arr(X1))
print('number summation'); print(X2); print(sum_arr(X2))
</script></div><br/>
<div class="compute"><script>
# python / task 2
import sympy as sp; D,G=sp.symbols('D G'); n=sp.symbols('n',integer=True)
expression=(4/3*sp.pi*((D+n)/2)^3-4/3*sp.pi*((D+n-1)/2)^3)*G/n
Pn=sp.lambdify([D,G,n],sp.factor(sp.simplify(sp.expand(expression))))
print('gravity of the n-th layer:'); print(Pn(D,G,n))
def P(D,G,N):
    s=Pn(D,G,1)
    for n in range(2,N+1): s+=Pn(D,G,n)
    return s
print('total gravity of 10 layers for D=7 and G=0.75:'); print(P(7,.75,10))
</script></div><br/>
<div class="compute"><script>
%%html
<div id="container1" style="height:400px; width:400px; margin:0 auto">
task 1: the javascript cell 1 is launching here...</div>
</script></div><br/>
<div class="compute"><script>
%%javascript

</script></div><br/>
<div class="compute"><script>
%%html
<div id="container2" style="height:400px; width:400px; margin:0 auto">
task 2: the javascript cell 2 is launching here...</div>
</script></div><br/>
<div class="compute"><script>
%%javascript

</script></div><br/>
<div class="compute"><script>
%%r
# task 1

</script></div><br/>
<div class="compute"><script>
%%r
# task 2

</script></div><br/>
  </body>
</html>
